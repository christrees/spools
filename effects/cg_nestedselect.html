<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Nested Selects</title>
<script type="text/javascript" src="../js/jquery-1.5.1.min.js"></script>
<!-- Reference
http://php4bd.wordpress.com/2007/07/15/javascript-controlled-dependent-or-cascading-select-list/
http://www.ajaxray.com/blog/2007/11/08/jquery-controlled-dependent-or-cascading-select-list-2/
http://www.ajaxray.com/Examples/depend-1.3.x.html
http://stackoverflow.com/questions/3459896/nested-optgroup-solution-from-drop-down-list
http://jquery.bassistance.de/treeview/demo/
http://plugins.jquery.com/project/treeview
-->
<script language="javascript">
function makeSublist(parent,child,isSubselectOptional,childVal)
{
	$("body").append("<select style='display:none' id='"+parent+child+"'></select>");
	$('#'+parent+child).html($("#"+child+" option"));

	var parentValue = $('#'+parent).attr('value');
	$('#'+child).html($("#"+parent+child+" .sub_"+parentValue).clone());

	childVal = (typeof childVal == "undefined")? "" : childVal ;
	$("#"+child).val(childVal).attr('selected','selected');

	$('#'+parent).change(function(){
		var parentValue = $('#'+parent).attr('value');
		$('#'+child).html($("#"+parent+child+" .sub_"+parentValue).clone());
		if(isSubselectOptional) $('#'+child).prepend("<option value='none' selected='selected'> -- Select -- </option>");
		$('#'+child).trigger("change");
		$('#'+child).focus();
	});
}

$(document).ready(function()
{
	makeSublist('cgSport','cgLeague', true, '');
});
</script>
</head>


<body>
<div id="msNewGameBG" class="inactive">
    <div class="msTitle">CREATE A GAME</div>
    <div id="msNewGameFieldsContainer">
    <div class="msNewGameFields">
    <div class="msNewGameFieldsText">Sport:
    <form>
        <select id="cgSport">
            <option value="0">--SELECT--</option>
            <option value="1">Baseball</option>
            <option value="2">Basketball</option>
            <option value="3">Cricket</option>
            <option value="4">Football</option>
            <option value="5">Hockey</option>
            <option value="6">Lacrosse</option>
            <option value="7">Roller Derby</option>
            <option value="8">Rugby</option>
            <option value="9">Soccer</option>
        </select>
    </form>
    </div>
    <div class="msNewGameFieldsText">League:
    <form>
        <select id="cgLeague">
                <option class="sub_1" value="1">Professional Mens</option>
                <option class="sub_1" value="2">Professional Womens</option>
                <option class="sub_1" value="3">NCAA Mens</option>
                <option class="sub_1" value="4">NCAA Womens</option>
                <option class="sub_1" value="5">High School Mens</option>
                <option class="sub_1" value="6">High School Womens</option>
        </select>
     </form>
    </div>
    <div class="msNewGameFieldsText">Home Team:</div>
    <div class="msNewGameFieldsText">Away Team:</div>
    <div class="msNewGameFieldsText">Game Title:</div>
    <div class="msNewGameFieldsText">Game Date:</div>
    <div class="msNewGameFieldsText">Start Time:</div>
    </div>
    </div>
	</div>
</body>
</html>